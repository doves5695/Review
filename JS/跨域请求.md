# 什么是跨域请求呢？

##
[1.我们需要了解什么是url]()</br>
### 什么是url呢？

### 例如：
    http://127.0.0.1:8080/subject/pythonzly/index.shtml
    // 这里的http就是协议头，127.0.0.1是服务器地址,8080是端口号,subject/pythonzly/index.shtml是文件路径

### 什么是协议头:
就是制定了传输协议,告诉浏览器如何处理将要打开的文件.不同的协议表示不同的资源查找以及传输方式

### 服务器地址和端口(port):
服务器地址指存放资源的服务网的主机名或者ip地址,它的目的主要在于通过这个地址来找到这台计算机</br>
端口号是地址和冒号后面的数字,用于表示在一台计算机上运行的不同程序. 每一个网络程序,都对应一个或多个特定的端口号,
例如HTTP程序的默认端口号为80.Https程序的默认端口号为443

### 路径(path):
路径是由0个或者多个"/"符合隔开的字符串,一般用于指定本次请求的资源在服务器中的位置

## 那么到底什么是跨域呢?
   [我们可以这样理解,当我们一个请求的url中的协议,域名,端口,三者中的任意一个与当前页面的url不同的时候即为跨域]()</br>

## 跨域产生的原因是什么呢?
   [是出于浏览器的同源策略限制</br>什么是同源策略呢?</br>同源策略是一种约定,它是浏览器最核心也最基本的安全功能,它的存在会阻止一个域的js脚本与另一个域的内容进行交互,如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击]()</br>
   所谓同源就是（即在同一个域）就是两个页面具有相同的协议（protocol）、主机（host）和端口号（port）
   
## 那么非同源会产生哪些限制呢?
   1.我们无法读取非同源网页的cookie,localstorage等<br/>
   2.无法接触非同源网页的dom和js对象<br/>
   3.无法向非同源地址发送Ajax请求<br/>

## 解决跨域的方法
①.nginx反向代理解决跨域<br/>
既然不能跨域请求,那么我们就不跨域,通过请求到达服务器前部署一个服务,将接口请求进行转发,这就是反向代理.通过一定的转发规则可以将前端的请求转发到其它的服务
### 正向代理<br/>
       例如 a --> b是访问不了的,那么我们就可以找一个中间的服务比如叫它c,我们就先访问c再从c到b
       明确的访问目的地,但是用户并不知道中间的代理服务器(忽略中间服务器)
### 反向代理 a --> c <-- b
       a明确访问c代理服务器,但是我们不知道c的内容哪里来的,c反向从别的地方拿来数据(忽略的是目标地址)
       浏览器可以访问a,而服务器之间不存在跨域问题,浏览器先访问a的服务器c,让服务器作为代理去访问b服务器,拿到之后再返回数据给a
       
②.CORS(Cross-Origin Resource Sharing)解决跨域(也就是添加响应头解决跨域)
### CORS是w3c的标准,它新增的一组http首部字段允许服务器其声明那些来源请求有权访问哪些资源,就是它允许浏览器向其声明了CORS的栈进学跨域请求
### 这种方法的特点就是在响应的HTTP首部增加Access-Control-Allow-Origin 等信息
### CORS与JSONP对比来说也是比较明显,JSONP只直接GET方式
### 例
      header('Access-Control-Allow-Origin','*')  // 允许所有来源访问
      header('Access-Control-Allow-Method:POST,GET');//允许访问的方式

③.JSONP方法
### 其原理是:
    有些script , img , link , iframe... 这些标签不存在跨域请求问题的限制,就是利用这个特点解决跨域问题
### 其优点是:
    简单适用,兼容性好(可以兼容低版本的IE),
    缺点:只支持get请求,不支持post请求,导致数据不全

